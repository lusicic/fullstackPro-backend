{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearch","type","placeholder","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","Persons","persons","deletePerson","map","person","name","number","onClick","Notification","message","success","className","baseUrl","axios","get","then","response","data","newObject","post","id","delete","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","setMessage","setSuccess","useEffect","personService","initialPersons","catch","error","console","log","results","filter","toLowerCase","includes","toLocaleLowerCase","showMessage","text","successMessage","setTimeout","event","target","preventDefault","returnedPerson","concat","window","confirm","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.949847dc.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ searchTerm, handleSearch }) => {\r\n  return (\r\n    <div>\r\n      filter shown with{\" \"}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search\"\r\n        value={searchTerm}\r\n        onChange={handleSearch}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <h2>add new person</h2>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Persons = ({ persons, deletePerson }) => {\r\n  return (\r\n    <ul>\r\n      {persons.map((person) => (\r\n        <li key={person.name}>\r\n          {person.name} {person.number}\r\n          <button onClick={() => deletePerson(person)}>delete</button>{\" \"}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, success }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  if (success === true) {\r\n    return <div className=\"message\">{message}</div>;\r\n  } else {\r\n    return <div className=\"error\">{message}</div>;\r\n  }\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\n//getAll: getAll (lijevo kljuc, desno varijabla)\r\nexport default {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove,\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [success, setSuccess] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then((initialPersons) => {\r\n        setPersons(initialPersons)\r\n      })\r\n      .catch((error) => console.log('fail'))\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    /*if (persons.map((person) => person.name).includes(newName)) {\r\n      //alert(`${newName} is already in phonebook`);\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already in phonebook. Do you want to replace the number?`\r\n        )\r\n      ) {\r\n        const person = persons.find((n) => n.name === newName)\r\n        const changedPerson = { ...person, number: newNumber }\r\n        const id = person.id\r\n        personService\r\n          .update(id, changedPerson)\r\n          .then((returnedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== id ? person : returnedPerson\r\n              )\r\n            )\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch((error) => {\r\n            console.log('fail')\r\n            showMessage(\r\n              `Information of ${newName} is already there`,\r\n              false\r\n            )\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n      }\r\n    } else {*/\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    personService\r\n      .create(personObject)\r\n      .then((returnedPerson) => {\r\n        setPersons(persons.concat(returnedPerson))\r\n        showMessage(`${newName} successfully added`, true)\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n      .catch((error) => console.log('fail'))\r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(setPersons(persons.filter((n) => n.id !== person.id)))\r\n        .catch((error) => console.log('fail'))\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearch = (event) => {\r\n    console.log(event.target.value)\r\n    setSearchTerm(event.target.value)\r\n  }\r\n\r\n  const results = !searchTerm\r\n    ? persons\r\n    : persons.filter((person) =>\r\n        person.name.toLowerCase().includes(searchTerm.toLocaleLowerCase())\r\n      )\r\n\r\n  const showMessage = (text, successMessage) => {\r\n    setMessage(text)\r\n    setSuccess(successMessage)\r\n\r\n    setTimeout(() => {\r\n      setMessage(null)\r\n      setSuccess(null)\r\n    }, 5000)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter searchTerm={searchTerm} handleSearch={handleSearch} />\r\n      <Notification message={message} success={success} />\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <h2>Numbers</h2>\r\n      <Persons persons={results} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}